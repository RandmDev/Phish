<!DOCTYPE html>
<html>
<head>
    <title>Telegram Bot Fix</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #f0f2f5; }
        button { 
            padding: 12px 24px; 
            background: #0088cc; 
            color: white; 
            border: none; 
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
        }
        button:hover { background: #006699; }
    </style>
</head>
<body>
    <button onclick="sendMessage()">Mesajı Gönder</button>

    <script>
        async function sendMessage() {
            // Güvenlik için token'i base64'ten decode edin
            const token = atob('Nzk0MTU5MzA4MDpBQUZlNzFXUWF4eVFGenZJM0NjcEZ0dU9jT3RodlVyRjQ5QQ==');
            const userId = 7767108844;
            const message = '✅ Çalışan Mesaj!';

            // Test edilmiş proxy listesi
            const proxies = [
                'https://api.allorigins.win/raw?url=',
                'https://thingproxy.freeboard.io/fetch/',
                'https://corsproxy.io/?'
            ];

            let lastError = null;

            for (const proxy of proxies) {
                try {
                    const response = await fetch(`${proxy}https://api.telegram.org/bot${token}/sendMessage`, {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({
                            chat_id: userId,
                            text: message,
                            parse_mode: 'HTML'
                        })
                    });

                    const result = await response.json();
                    if (result.ok) {
                        alert('Mesaj başarıyla gönderildi!');
                        return;
                    }
                    lastError = result.description || 'Bilinmeyen Telegram hatası';
                } catch (error) {
                    lastError = error.message;
                }
            }

            alert(`Tüm proxy denemeleri başarısız: ${lastError}`);
        }
    </script>
</body>
</html>
